<%= form_with(url: search_url, method: :get, local: true) do |f| %>
    <%= f.hidden_field :direction, value: params[:direction] %>
    <%= f.hidden_field :sort, value: params[:sort] %>

    <%= f.label :state_label, "State" %>
    <%= f.collection_select :state_id, State.order(:name), :id, :name, include_blank: true %>

    <%= f.label :county_label, "County" %>
    <%= f.grouped_collection_select :county_id, State.order(:name), :counties, :name, :id, :name, include_blank: true %>

    <%= f.label :city_label, "City"%>
    <%= f.grouped_collection_select :city_id, County.order(:name), :cities, :name, :id, :name, include_blank: true %>

    <%= f.label "Min Price"%>
    <%= f.number_field :min_price, in: 0..2500, step: 100, value: params[:min_price] %>

    <%= f.label "Max Price"%>
    <%= f.number_field :max_price, in: 0..5000, step: 100, value: params[:max_price]%>

    <%= f.label "Start Date"%>
    <%= f.date_field :start_date, value: params[:start_date] %>

    <%= f.label "End Date"%>
    <%= f.date_field :end_date, value: params[:end_date] %>

    <%= f.label "Pet Preference"%>
    <%= f.select :pet,["Dog", "Cat", "No"], selected: params[:pet], include_blank: true %>
    
    <%= f.submit "Search"%>
<% end %>